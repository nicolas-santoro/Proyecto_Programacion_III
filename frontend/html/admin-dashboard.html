<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="../img/HP_LOGO.png">
    <title>Dashboard Admin - Hachis Parmentier</title>
    <link rel="stylesheet" href="../css/admin.css">
</head>
<body data-theme="dark">
    <nav class="navbar">
        <div class="navbar-content">
            <h1>Hachis Parmentier</h1>
            <div class="user-info">
                <span class="rol-badge" id="userRole">ADMIN</span>
                <button class="theme-toggle" onclick="toggleTheme()">
                    游깿
                </button>
                <button class="btn-logout" onclick="logout()">Cerrar Sesi칩n</button>
            </div>
        </div>
    </nav>

    <div class="container">
        <div class="dashboard-header">
            <h2>Bienvenido al Dashboard</h2>
            <p>Gestiona tu tienda desde aqu칤</p>
        </div>

        <div class="actions-grid">
            <div class="action-card">
                <div class="icon">游닄</div>
                <h3>Productos</h3>
                <p>Agregar, editar y eliminar productos del cat치logo</p>
                <a href="/html/admin-productos.html" class="btn-action">Gestionar Productos</a>
            </div>
            
            <div class="action-card">
                <div class="icon">游눳</div>
                <h3>Ventas</h3>
                <p>Ver y gestionar las ventas realizadas</p>
                <a href="/html/admin-ventas.html" class="btn-action">Ver Ventas</a>
            </div>
            
            <div class="action-card">
                <div class="icon">游늵</div>
                <h3>Auditor칤a</h3>
                <p>Revisar logs y estad칤sticas del sistema</p>
                <a href="/html/admin-auditoria.html" class="btn-action">Ver Auditor칤a</a>
            </div>
        </div>

        <footer>
            <p>&copy; 2025 Hachis Parmentier. Nicol치s Santoro & Milena Rodriguez</p>
        </footer>
    </div>

    <script src="../js/admin-common.js"></script>
    <script>
        // Verificar autenticaci칩n inmediatamente
        (function() {
            const token = localStorage.getItem('token');
            if (!token) {
                window.location.href = '/html/admin-login.html';
                return;
            }
        })();
        
        // Inicializar p치gina
        window.addEventListener('DOMContentLoaded', async function() {
            const isAuthenticated = await AdminCommon.init();
            if (isAuthenticated) {
                await loadStats();
            }
        });
    </script>
</body>
</html>
